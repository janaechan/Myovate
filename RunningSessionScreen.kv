<RunningSessionScreen>:
    rv: rv
    FloatLayout:
        CustomizedButton:
            id: btn
            text: 'Menu'
            on_release: app.root.drop_down.open(self)
            size_hint: None, None
            size: self.texture_size
            padding: (80, 20)
            pos_hint: ({'top': 1})

        CustomizedLabel:
            text: 'Current Session'
            size_hint_y: None
            pos_hint: ({'center_x': 0.5, 'top': 0.95})
        CustomizedLabel:
            id: session_name_id
            text: "Session Name"
            pos_hint: ({'center_x': 0.15, 'center_y':0.8})
        CustomizedLabel:
            id: session_name_input
            text: root.session_name
            pos_hint: ({'center_x': 0.4, 'center_y': 0.8})
        CustomizedLabel:
            id: session_date_id
            text: "Date"
            pos_hint: ({'center_x': 0.15, 'center_y':0.75})
        CustomizedLabel:
            id: session_date_input
            text: root.session_date
            pos_hint: ({'center_x': 0.4, 'center_y': 0.75})
        RecycleView:
            id: rv
            pos_hint: ({'center_x': 0.5, 'center_y': 0.4})
            size_hint: .9, .5
            scroll_type: ['bars', 'content']
            scroll_wheel_distance: dp(114)
            bar_width: dp(10)
            viewclass: 'RunningScreenRow'
            SelectableRecycleBoxLayout:
                id: controller
                key_selection: 'selectable'
                default_size: None, dp(200)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
                spacing: dp(25)
                touch_multiselect: True
        CustomizedButton:
            text: "End Session"
            pos_hint: ({'center_x': 0.5, 'center_y': 0.05})
            size: self.texture_size
            padding: (80, 20)
            size_hint: None, None
            #on_press: root.manager.get_screen('progress').insert(session_name_input.text, rv.data)

<RunningScreenRow>:
    id: row
    orientation: 'vertical'
    canvas.before:
        Color:
            #rgba: 0.5, 0.5, 0.5, 1
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
            #rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 1, 1)
        Rectangle:
            size: self.size
            pos: self.pos
    sensor_name: ''
    sensor_loc: ''
    but_mapping: ''
    #need_calibration: ''
    BoxLayout:
        size_hint: [1, 0.2]
        orientation: 'horizontal'
        CustomizedLabel:
            text: 'Sensor Name: ' + root.sensor_name
        CustomizedLabel:
            text: 'Sensor Location: ' + root.sensor_loc
        CustomizedLabel:
            text: 'Mapped to: ' + root.but_mapping
    #    CustomizedLabel:
    #        text: 'Calibrated? ' + 'NO' if root.need_calibration else 'YES'

    BoxLayout:
        orientation: 'horizontal'
        Graph:
            id: graph
            xlabel: ""
            ylabel: "Level"
            x_ticks_minor:5
            x_tics_major:25
            y_ticks_major:50
            x_grid: True
            y_grid: True
            padding: 5
            pos: root.pos
        BoxLayout:
            orientation: 'vertical'
            size_hint: [0.5, .5]
            CustomizedButton:
                text: "START"
                bold: True
                on_press: root.start()
            CustomizedButton:
                text: "STOP"
                bold: True
                on_press: root.stop()